<html>
    <head>
        <script language="javascript">
            function get_action(theform) {
                base_url = window.location.protocol + "//" + window.location.host;
                var input = document.createElement("input");
                input.setAttribute("type", "hidden");
                input.setAttribute("name", "base_url");
                input.setAttribute("value", base_url);
                //append to form element that you want .
                theform.appendChild(input);
            }
        </script>
    </head>
    <body>
        <form style="text-align: center;" method="post", action="/nocsrf/onetimesec/generate" onsubmit="get_action(this);">
            <label style="vertical-align: top;">Secret Content:</label>
            <textarea name="sec_content" autocomplete="off"></textarea>
            <hr/>
            <table style="margin-left: auto; margin-right: auto;">
                <tr>
                    <td></td><td><button type="submit" name="submit" value="submit_genlink">Generate one time link</button></td>
                </tr>
                <tr>
                    <td>
                        <label>Password length: </label><input type="text" size="2" name="password_len" value="32" />
                    </td>
                    <td>
                        <button type="submit" name="submit" value="submit_genpass">Generate one time link with random password</button>
                    </td>
                </tr>
            </table>
        </form>
    </body>
</html>